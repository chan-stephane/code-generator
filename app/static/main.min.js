function update_type(){"bar-code"==event.target.value?($("#background").attr("disabled","disabled"),$("#foreground").attr("disabled","disabled"),$("#form-code").attr("disabled","disabled"),$("#image-link").attr("disabled","disabled")):($("#background").removeAttr("disabled"),$("#foreground").removeAttr("disabled"),$("#form-code").removeAttr("disabled"),$("#image-link").removeAttr("disabled"))}function isHexadecimal(e){return/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})$/.test(e)}function isValidForm(e){return["square","gapped_square","circle","rounded","vertical_bar","horizontal_bar"].includes(e)}async function call(e,t){return new Promise(((a,r)=>{let o="Error on generate qr code";$.ajax({url:e,type:"POST",data:JSON.stringify(t),contentType:"application/json",xhr:function(){var e=new XMLHttpRequest;return e.onreadystatechange=function(){2==e.readyState&&(200==e.status?e.responseType="blob":e.responseType="json"),4==e.readyState&&e.response&&e.response.error&&(o=e.response.error)},e},success:function(e){a(e)},error:function(e,t,a){r(o)}})}))}function load(){$("#copyright").text(` © ${(new Date).getFullYear()} Stéphane CHAN HIOU KONG`)}function loaderComponent(){var e=$("<div>").addClass("w-10 h-10 border-4 border-t-blue-500 border-gray-300 rounded-full animate-spin");$("#img-div").empty().append(e)}async function generate(){loaderComponent();var e=$("#type-code").find(":selected").val(),t=$("#data").val(),a=window.location.origin,r={data:t};if("qr-code"==e){let e=$("#background").val(),t=$("#foreground").val(),a=$("#form-code").val();r.bg_color=isHexadecimal(e)?e:"#ffffff",r.color=isHexadecimal(t)?t:"#000000",r.style_points=isValidForm(a)?a:"square",r.image_url=$("#image-link").val()}try{const t=await call(a+"/"+e+"/generate",r);var o=URL.createObjectURL(t),n=o;if("qr-code"==e){const t=await call(a+"/"+e+"/download",r);n=URL.createObjectURL(t)}Toastify({text:"Generated successfully",backgroundColor:"rgb(75, 230, 134)",close:!0}).showToast();var d=$("<img>").attr("src",o).addClass("w-50 h-50");$("#img-div").append(d);var i=$("<a>").attr({href:n,id:"btn-dwn",download:"code_by_code-generator.png",class:"ml-4 mt-2 px-4 py-2 bg-indigo-600 text-white rounded-full inline-flex items-center justify-center"}).text("Download Image");$("#btn-dwn").length>0&&$("#btn-dwn").remove(),$("#btn").after(i),$("#img-div").empty().append(d)}catch(e){$("#img-div").empty(),$("#btn-dwn").length>0&&$("#btn-dwn").remove(),Toastify({text:e,backgroundColor:"rgb(230, 108, 81)",close:!0}).showToast()}}$(document).ready((function(){load()}));