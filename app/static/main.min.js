function load(){$("#copyright").text(` © ${(new Date).getFullYear()} Stéphane CHAN HIOU KONG`)}function update_type(){var e=event.target;console.log(e.value),"bar-code"==e.value?($("#background").attr("disabled","disabled"),$("#foreground").attr("disabled","disabled"),$("#form-code").attr("disabled","disabled")):($("#background").removeAttr("disabled"),$("#foreground").removeAttr("disabled"),$("#form-code").removeAttr("disabled"))}function isHexadecimal(e){return/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})$/.test(e)}function isValidForm(e){return["square","gapped_square","circle","rounded","vertical_bar","horizontal_bar"].includes(e)}async function call(e,a){return new Promise(((t,o)=>{$.ajax({url:e,type:"POST",data:JSON.stringify(a),contentType:"application/json",xhrFields:{responseType:"blob"},success:function(e){t(e)},error:function(e,a,t){o(t)}})}))}function loaderComponent(){var e=$("<div>").addClass("w-10 h-10 border-4 border-t-blue-500 border-gray-300 rounded-full animate-spin");$("#img-div").empty().append(e)}async function generate(){loaderComponent();var e=$("#type-code").find(":selected").val(),a=$("#data").val(),t=window.location.origin,o={data:a};if("qr-code"==e){let e=$("#background").val(),a=$("#foreground").val(),t=$("#form-code").val();o.bg_color=isHexadecimal(e)?e:"#ffffff",o.color=isHexadecimal(a)?a:"#000000",o.style_points=isValidForm(t)?t:"square"}console.log(o);try{const a=await call(t+"/"+e+"/generate",o);var r=URL.createObjectURL(a),n=r;if("qr-code"==e){const a=await call(t+"/"+e+"/download",o);n=URL.createObjectURL(a)}Toastify({text:"Generated successfully",backgroundColor:"rgb(75, 230, 134)",close:!0}).showToast();var d=$("<img>").attr("src",r).addClass("w-50 h-50");$("#img-div").append(d);var l=$("<a>").attr({href:n,id:"btn-dwn",download:"code_by_code-generator.png",class:"ml-4 mt-2 px-4 py-2 bg-indigo-600 text-white rounded-full inline-flex items-center justify-center"}).text("Download Image");$("#btn-dwn").length>0&&$("#btn-dwn").remove(),$("#btn").after(l),$("#img-div").empty().append(d)}catch(e){$("#btn-dwn").length>0&&$("#btn-dwn").remove(),Toastify({text:"Error on generate your image",backgroundColor:"rgb(230, 108, 81)",close:!0}).showToast()}}$(document).ready((function(){load()}));